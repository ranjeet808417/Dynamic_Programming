#include <bits/stdc++.h>
using namespace std;

int maximum_lengthOFsnake_sequence(int** path,int row,int col,int x,int y,int** dp){
if(x<0 || y<0 ||x>=row || y>=col){
        return -1;
}
else if(dp[x][y]!=-1){
        return dp[x][y];
}
int right=maximum_lengthOFsnake_sequence(path,row,col,x,y+1,dp);
int down=maximum_lengthOFsnake_sequence(path,row,col,x+1,y,dp);
return dp[x][y]=1+max(right,down);


}
int main() {
 int row,col;
 cin>>row>>col;
 int** mat=new int*[row];
 for(int i=0;i<row;i++){
         mat[i]=new int[col];
 }
 for(int i=0;i<row;i++){
         for(int j=0;j<col;j++){
                 cin>>mat[i][j];
         }
 }
 int** dp=new int*[row];
 for(int i=0;i<row;i++){
         dp[i]=new int[col];
 }
 
 
    for(int i=0;i<row;i++){
            for(int j=0;j<col;j++){
                    dp[i][j]=-1;
            }
    }

   cout<<maximum_lengthOFsnake_sequence(mat,row,col,0,0,dp);
}
